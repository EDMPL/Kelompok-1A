/*
SQLyog Ultimate v11.11 (64 bit)
MySQL - 5.6.16 : Database - travner
*********************************************************************
*/


/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
USE `travner`;

/*Table structure for table `location` */

CREATE TABLE `location` (
  `LOCATION_LONG` DECIMAL(14,10) NOT NULL,
  `LOCATION_LAT` DECIMAL(14,10) NOT NULL,
  PRIMARY KEY (`LOCATION_LONG`,`LOCATION_LAT`)
) ENGINE=INNODB DEFAULT CHARSET=latin1;

/*Data for the table `location` */

INSERT  INTO `location`(`LOCATION_LONG`,`LOCATION_LAT`) VALUES (-6.3065247000,106.7989756000),(-6.1253505000,106.6578245000),(-4.0773177000,122.4157904000),(-4.0329527000,122.5320514000),(-3.9855385000,122.4907418000),(-3.9242358000,122.4767668000);

/*Table structure for table `travel` */

CREATE TABLE `travel` (
  `TRAVEL_ID` INT(11) NOT NULL AUTO_INCREMENT,
  `STARTLOCATION_LONG` DECIMAL(14,10) NOT NULL,
  `STARTLOCATION_LAT` DECIMAL(14,10) NOT NULL,
  `DESTLOCATION_LONG` DECIMAL(14,10) NOT NULL,
  `DESTLOCATION_LAT` DECIMAL(14,10) NOT NULL,
  `TRANSPORTATION_MODE` VARCHAR(15) NOT NULL,
  `DEPARTURE_TIME` TIMESTAMP NOT NULL,
  PRIMARY KEY (`TRAVEL_ID`),
  KEY `FK_DESTINATION` (`STARTLOCATION_LONG`,`STARTLOCATION_LAT`),
  KEY `FK_START_LOCATION` (`DESTLOCATION_LONG`,`DESTLOCATION_LAT`),
  CONSTRAINT `FK_START_LOCATION` FOREIGN KEY (`DESTLOCATION_LONG`, `DESTLOCATION_LAT`) REFERENCES `location` (`LOCATION_LONG`, `LOCATION_LAT`),
  CONSTRAINT `FK_DESTINATION` FOREIGN KEY (`STARTLOCATION_LONG`, `STARTLOCATION_LAT`) REFERENCES `location` (`LOCATION_LONG`, `LOCATION_LAT`)
) ENGINE=INNODB DEFAULT CHARSET=latin1;

/*Data for the table `travel` */

INSERT  INTO `travel`(`TRAVEL_ID`,`STARTLOCATION_LONG`,`STARTLOCATION_LAT`,`DESTLOCATION_LONG`,`DESTLOCATION_LAT`,`TRANSPORTATION_MODE`,`DEPARTURE_TIME`) VALUES (1,-6.3065247000,106.7989756000,-6.1253505000,106.6578245000,'Mobil Pribadi','2017-09-19 03:30:00'),(2,-6.1253505000,106.6578245000,-4.0773177000,122.4157904000,'Pesawat','2017-09-19 05:10:00'),(3,-4.0773177000,122.4157904000,-3.9855385000,122.4907418000,'Mobil Dinas','2017-09-19 11:30:00'),(4,-3.9855385000,122.4907418000,-4.0329527000,122.5320514000,'Jalan Kaki','2017-09-19 03:15:00'),(5,-4.0329527000,122.5320514000,-3.9242358000,122.4767668000,'Mobil Dinas','2017-09-19 16:30:00'),(6,-3.9242358000,122.4767668000,-3.9855385000,122.4907418000,'Mobil Dinas','2017-09-19 19:21:00');

/*Table structure for table `user_account` */

CREATE TABLE `user_account` (
  `USERNAME` VARCHAR(15) NOT NULL,
  `EMAIL` VARCHAR(30) NOT NULL,
  `PASSWORD` VARCHAR(15) NOT NULL,
  `PROFILE_PICTURE` LONGBLOB,
  PRIMARY KEY (`EMAIL`)
) ENGINE=INNODB DEFAULT CHARSET=latin1;

/*Data for the table `user_account` */

INSERT  INTO `user_account`(`USERNAME`,`EMAIL`,`PASSWORD`) VALUES ('sitti','sitti@polban.me','password');

/*Table structure for table `vehicle` */

CREATE TABLE `vehicle` (
  `VEHICLE_NAME` VARCHAR(15) NOT NULL,
  `EMAIL` VARCHAR(15) DEFAULT NULL,
  PRIMARY KEY (`VEHICLE_NAME`,`EMAIL`),
  KEY `FK_HAVE_A_VEHICLE` (`EMAIL`),
  CONSTRAINT `FK_HAVE_A_VEHICLE` FOREIGN KEY (`EMAIL`) REFERENCES `user_account` (`EMAIL`)
) ENGINE=INNODB DEFAULT CHARSET=latin1;

/*Data for the table `vehicle` */

INSERT  INTO `vehicle`(`VEHICLE_NAME`,`EMAIL`) VALUES ('Mobil','sitti@polban.me');

/*Table structure for table `activity` */

CREATE TABLE `activity` (
  `ACTIVITY_ID` INT(11) NOT NULL AUTO_INCREMENT,
  `TRAVEL_ID` INT(11) DEFAULT NULL,
  `EMAIL` VARCHAR(30) DEFAULT NULL,
  `ACTIVITY_NAME` VARCHAR(60) DEFAULT NULL,
  `TIME_START` TIMESTAMP NOT NULL,
  `TIME_END` TIMESTAMP NOT NULL,
  `SPARE_TIME` TIME DEFAULT NULL,
  PRIMARY KEY (`ACTIVITY_ID`),
  KEY `FK_DOING_AN_ACTIVITY` (`EMAIL`),
  KEY `FK_RELATIONSHIP_1` (`TRAVEL_ID`),
  CONSTRAINT `FK_DOING_AN_ACTIVITY` FOREIGN KEY (`EMAIL`) REFERENCES `user_account` (`EMAIL`),
  CONSTRAINT `FK_RELATIONSHIP_1` FOREIGN KEY (`TRAVEL_ID`) REFERENCES `travel` (`TRAVEL_ID`)
) ENGINE=INNODB DEFAULT CHARSET=latin1;

/*Data for the table `activity` */

INSERT  INTO `activity`(`ACTIVITY_ID`,`TRAVEL_ID`,`EMAIL`,`ACTIVITY_NAME`,`TIME_START`,`TIME_END`,`SPARE_TIME`) VALUES (1,1,'sitti@polban.me','Menunggu keberangkatan pesawat ke kendari','2017-09-19 05:10:00','2017-09-19 05:10:00','00:40:00'),(2,2,'sitti@polban.me','Sampai di bandara Kendari','2017-09-19 11:10:00','2017-09-19 11:10:00','00:00:00'),(3,3,'sitti@polban.me','Sampai di hotel untuk ishoma Tartil dan diskusi dengan depar','2017-09-19 12:30:00','2017-09-19 15:00:00','00:30:00'),(4,4,'sitti@polban.me','Makan sore','2017-09-19 15:30:00','2017-09-19 16:30:00','00:00:00'),(5,5,'sitti@polban.me','Kunjungan korban Narkoba','2017-09-19 17:00:00','2017-09-19 18:30:00','00:12:00'),(6,6,'sitti@polban.me','Kembali ke hotel','2017-09-19 19:00:00','2017-09-19 00:00:00','00:00:00');


/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
